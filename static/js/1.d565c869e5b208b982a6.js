webpackJsonp([1],{"+kDu":function(t,e,n){function i(t){n("ULjQ")}var s=n("VU/8")(n("hMro"),n("U8ZL"),i,"data-v-f0ab166e",null);t.exports=s.exports},"/mBX":function(t,e,n){var i=n("n4s+");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("56d2e0f4",i,!0)},"0hK4":function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,".tcis-select[data-v-53f47646]{display:inline-block}","",{version:3,sources:["F:/selenium_work/tcis/web/src/pages/common/tcis_select.vue"],names:[],mappings:"AACA,8BACE,oBAAsB,CACvB",file:"tcis_select.vue",sourcesContent:["\n.tcis-select[data-v-53f47646] {\n  display: inline-block;\n}\n"],sourceRoot:""}])},"43Sv":function(t,e,n){function i(t){n("4Py9")}var s=n("VU/8")(n("nTy/"),n("rI0X"),i,"data-v-3e3bf7ff",null);t.exports=s.exports},"4Py9":function(t,e,n){var i=n("czkU");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("57a5c696",i,!0)},"6QyB":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"project-test-kanban"}},t._l(t.projectTests,function(e,i){return n("project-test-card",{key:i,attrs:{projectTest:e},on:{changeProjectTestView:t.changeProjectTestView}})}))},staticRenderFns:[]}},"6iaY":function(t,e,n){"use strict";var i=n("pFYg");n.n(i)},"9/+/":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.projectTests},on:{"row-dblclick":t.goProjectTestDetail}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[n("el-form-item",{attrs:{label:"Test描述"}},[n("span",[t._v(t._s(e.row.description))])])],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{label:"所属项目"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.project?[t._v("\n            "+t._s(e.row.project.name)+"\n            ")]:void 0}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"Test名称"}}),t._v(" "),n("el-table-column",{attrs:{label:"测试员"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.tester?[t._v("\n            "+t._s(e.row.tester.name)+"\n            ")]:void 0}}])}),t._v(" "),n("el-table-column",{attrs:{label:"处理员"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.handler?[t._v("\n            "+t._s(e.row.handler.name)+"\n            ")]:void 0}}])}),t._v(" "),n("el-table-column",{attrs:{label:"验证员"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.checker?[t._v("\n            "+t._s(e.row.checker.name)+"\n            ")]:void 0}}])}),t._v(" "),n("el-table-column",{attrs:{label:"处理人"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.handler?[t._v("\n            "+t._s(e.row.handler.name)+"\n            ")]:void 0}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"level",label:"级别"}}),t._v(" "),n("el-table-column",{attrs:{prop:"open_times",label:"打开次数"}}),t._v(" "),n("el-table-column",{attrs:{prop:"state",label:"状态"}})],1)],1)},staticRenderFns:[]}},"9m3A":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{pageInfoChange:function(t,e){this.$emit("pageInfoChange",t,e)},handleSizeChange:function(t){this.pageInfoChange(t,1)},handleCurrentChange:function(t){this.pageInfoChange(this.pageSize,t)}},props:["pageSize","currentPage","total","pageSizes"],data:function(){return{}}}},AfhM:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"project-test",loading:t.loading}},[n("view-switch",{attrs:{views:t.view_list,activeView:t.activeView},on:{switchView:t.switchView}}),t._v(" "),n("form-top",{attrs:{formTopBtns:t.formTopBtns},on:{formTopAction:t.formTopAction}}),t._v(" "),n("pagination",{attrs:{pageSizes:[20,40,80,160,320],pageSize:t.pageSize,currentPage:t.page,total:t.total},on:{pageInfoChange:t.pageInfoChange}}),t._v(" "),n("tcis-select",{attrs:{placeholder:"请选择项目",selectList:t.projectList},on:{filterSelectChange:t.filterProjectChange}}),t._v(" "),n("tcis-select",{attrs:{placeholder:"请选择测试类型",selectList:t.projectTestTypeList},on:{filterSelectChange:t.filterProjectTestTypeChange}}),t._v(" "),n("el-row",{staticClass:"main-content",attrs:{gutter:20}},["list"==t.activeView?n("project-test-list",{attrs:{projectTests:t.projectTests}}):t._e(),t._v(" "),"kanban"==t.activeView?n("project-test-kanban",{attrs:{type_id:t.type_id,project_id:t.project_id},on:{changeProjectTestView:t.changeProjectTestView}}):t._e()],1)],1)},staticRenderFns:[]}},B3Cl:function(t,e,n){var i=n("Y3ZK");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("5ed7d397",i,!0)},BMys:function(t,e,n){function i(t){n("uFkv")}var s=n("VU/8")(n("9m3A"),n("LPte"),i,null,null);t.exports=s.exports},DWck:function(t,e,n){function i(t){n("/mBX")}var s=n("VU/8")(n("zpS/"),n("AfhM"),i,"data-v-21bef24e",null);t.exports=s.exports},LPte:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]}},TO1l:function(t,e,n){function i(t){n("B3Cl")}var s=n("VU/8")(n("nWf1"),n("dPJm"),i,null,null);t.exports=s.exports},U8ZL:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-button-group",{staticClass:"view-switch"},[t._l(t.views,function(e,i){return[n("el-button",{key:i,attrs:{size:"mini",type:t.viewDict[e]},on:{click:function(n){t.switchView(e)}}},[t._v(t._s(t.viewLabel[e]))])]})],2)},staticRenderFns:[]}},ULjQ:function(t,e,n){var i=n("rOCs");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("1acd35a8",i,!0)},Vryk:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,".pagination{margin:5px;display:inline-block}","",{version:3,sources:["F:/selenium_work/tcis/web/src/pages/common/Pagination.vue"],names:[],mappings:"AACA,YACE,WAAY,AACZ,oBAAsB,CACvB",file:"Pagination.vue",sourcesContent:["\n.pagination {\n  margin: 5px;\n  display: inline-block;\n}\n"],sourceRoot:""}])},W4Hc:function(t,e,n){var i=n("VU/8")(n("b16P"),n("hLzc"),null,null,null);t.exports=i.exports},Y3ZK:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,".form-top{display:inline-block;margin:5px}","",{version:3,sources:["F:/selenium_work/tcis/web/src/pages/common/form_top.vue"],names:[],mappings:"AACA,UACE,qBAAsB,AACtB,UAAY,CACb",file:"form_top.vue",sourcesContent:["\n.form-top {\n  display: inline-block;\n  margin: 5px;\n}\n"],sourceRoot:""}])},at4s:function(t,e,n){var i=n("VU/8")(n("pt+2"),n("9/+/"),null,null,null);t.exports=i.exports},b16P:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("lMz8");e.default={name:"project-test-card-echart",props:["projectTest"],data:function(){return{distributionxArixData:[],distributionSeris:[],distributionLegend:[]}},methods:{getProjectTestInfo:function(){var t=this;this.project_test_id;this.$ajax.get(i.d,{params:{project_test_id:this.projectTest.id}}).then(function(e){200==e.status&&(t.distributionSeris=e.data.series,t.distributionxArixData=e.data.x_axis,t.distributionLegend=e.data.legend,t.echartDistributionView())})},chartStyle:function(t){return{width:"800px",height:"500px"}},echartDistributionView:function(){var t=this.$echarts.init(document.getElementById("test-distribution-"+this.projectTest.id)),e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{show:!0,x:"left",y:"center",feature:{saveAsImage:{show:!0,name:"project_test_bar"}}},legend:{data:this.distributionLegend},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.distributionxArixData}],yAxis:[{type:"value"}],series:this.distributionSeris};t.setOption(e)}},created:function(){this.getProjectTestInfo()},watch:{checkChild:"getProjectTestInfo"}}},bqv7:function(t,e,n){var i=n("0hK4");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("3dc3f4e6",i,!0)},coHg:function(t,e,n){function i(t){n("bqv7")}var s=n("VU/8")(n("u9PN"),n("d7bc"),i,"data-v-53f47646",null);t.exports=s.exports},czkU:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,".project-test-card[data-v-3e3bf7ff]{padding-bottom:5px;padding-top:5px}","",{version:3,sources:["F:/selenium_work/tcis/web/src/pages/project_test/project_test_card.vue"],names:[],mappings:"AACA,oCACE,mBAAoB,AACpB,eAAiB,CAClB",file:"project_test_card.vue",sourcesContent:["\n.project-test-card[data-v-3e3bf7ff] {\n  padding-bottom: 5px;\n  padding-top: 5px;\n}\n"],sourceRoot:""}])},d7bc:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tcis-select"},[n("el-select",{attrs:{placeholder:t.placeholder,filterable:""},on:{change:t.filterSelectChange},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},t._l(t.selectList,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)},staticRenderFns:[]}},dPJm:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-top"},[t.formTopBtns.create?n("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-document",size:"small"},on:{click:function(e){t.formTopAction("create")}}},[t._v("创建")]):t._e(),t._v(" "),t.formTopBtns.edit?n("el-button",{attrs:{plain:"",type:"warning",icon:"el-icon-edit",size:"small"},on:{click:function(e){t.formTopAction("edit")}}},[t._v("编辑")]):t._e(),t._v(" "),t.formTopBtns.save?n("el-button",{attrs:{plain:"",type:"success",icon:"el-icon-message",size:"small"},on:{click:function(e){t.formTopAction("save")}}},[t._v("保存")]):t._e(),t._v(" "),t.formTopBtns.cancel?n("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-close",size:"small"},on:{click:function(e){t.formTopAction("cancel")}}},[t._v("取消")]):t._e()],1)},staticRenderFns:[]}},hLzc:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{style:t.chartStyle(),attrs:{id:"test-distribution-"+t.projectTest.id}})},staticRenderFns:[]}},hMro:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"view_switch",props:["views","activeView"],data:function(){var t={};for(var e in this.views){var n=this.views[e];n==this.activeView?t[n]="primary":t[n]=""}return{viewDict:t,viewLabel:{kanban:"看板",list:"列表",gantt:"甘特图"}}},methods:{switchView:function(t){for(var e in this.views){var n=this.views[e];this.viewDict[n]=n==t?"primary":""}this.$emit("switchView",t)}},watch:{activeView:function(t,e){for(var n in this.views){var i=this.views[n];this.viewDict[i]=i==t?"primary":""}}}}},lMz8:function(t,e,n){"use strict";n.d(e,"l",function(){return i}),n.d(e,"t",function(){return s}),n.d(e,"s",function(){return o}),n.d(e,"n",function(){return r}),n.d(e,"m",function(){return a}),n.d(e,"q",function(){return c}),n.d(e,"o",function(){return l}),n.d(e,"r",function(){return u}),n.d(e,"p",function(){return p}),n.d(e,"f",function(){return f}),n.d(e,"b",function(){return d}),n.d(e,"h",function(){return h}),n.d(e,"j",function(){return v}),n.d(e,"i",function(){return _}),n.d(e,"k",function(){return g}),n.d(e,"e",function(){return m}),n.d(e,"g",function(){return j}),n.d(e,"a",function(){return b}),n.d(e,"d",function(){return w}),n.d(e,"c",function(){return y});var i="/user/",s="/user/login/",o="/user/logout/",r="/user/reset_password/",a="/user/user_active/",c="/group/",l="/permission/",u="/permission/get_all_permission/",p="/permission/translate_all_permission/",f="/project/project/",d="/project/project/get_all_project/",h="/project/project_task/",v="/project/project_task/project_task_kanban/",_="/project/project_task/project_task_gantt/",g="/project/project_member/",m="/project_bug/project_bug/",j="/project_bug/project_bug/project_bug_kanban/",b="/project_test/project_test/",w="/project_test/project_test/project_test_kanban/",y="/project_test/project_test_type/"},mm5c:function(t,e,n){var i=n("VU/8")(n("of7P"),n("6QyB"),null,null,null);t.exports=i.exports},"n4s+":function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"project_test_home.vue",sourceRoot:""}])},"nTy/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("W4Hc"),s=n.n(i);e.default={name:"project-test-card",props:["projectTest"],data:function(){return{show:!0}},components:{ProjectTestCardEchart:s.a},methods:{changeProjectTestView:function(t,e){this.$emit("changeProjectTestView",t,e)},deleteDom:function(){this.show=!1},goProjectTest:function(){this.$router.push("/project_test/"+this.projectTest.id)}}}},nWf1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"form-rop",props:["formTopBtns"],data:function(){return{}},methods:{formTopAction:function(t){this.$emit("formTopAction",t)}}}},of7P:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("lMz8"),s=n("43Sv"),o=n.n(s);e.default={name:"project-test-kanban",props:["project_id","type_id"],data:function(){return{loading:!1,pageSize:20,total:0,page:1,projectTests:[]}},components:{ProjectTestCard:o.a},methods:{getAllProjectTest:function(){var t=this;this.loading=!0;var e={page:this.page,page_size:this.pageSize,project_id:this.project_id,type_idL:this.type_id};this.$ajax.get(i.a,{params:e}).then(function(e){t.loading=!1;var n=e.status,i=e.data;200==n&&(t.projectTests=i.results)})},changeProjectTestView:function(t,e){this.$emit("changeProjectTestView",t,e)}},created:function(){this.$nextTick(function(){this.getAllProjectTest()})}}},"pt+2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"",props:["projectTests"],data:function(){return{}},methods:{goProjectTestDetail:function(t,e){this.$router.push("/project_test/"+t.id)}}}},rI0X:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("el-col",{staticClass:"project-test-card",attrs:{span:12,projectTest:t.projectTest}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",{staticStyle:{color:"rgb(102, 177, 255)"},on:{click:t.goProjectTest}},[t._v(t._s(t.projectTest.name))]),t._v(" "),n("i",{staticClass:"el-icon-info",staticStyle:{color:"rgb(102, 177, 255)"},on:{click:t.goProjectTest}}),t._v(" "),n("i",{staticClass:"el-icon-circle-close",staticStyle:{float:"right","margin-left":"10px",color:"red"},on:{click:t.deleteDom}}),t._v(" "),n("el-button",{staticStyle:{float:"right",padding:"3px 0","margin-left":"10px"},attrs:{type:"success"},on:{click:function(e){t.changeProjectTestView(t.projectTest.id,"list")}}},[t._v("测试列表")])],1),t._v(" "),n("div",{staticClass:"project-test-echart"},[n("el-row",[n("el-col",{attrs:{span:24}},[n("project-test-card-echart",{attrs:{projectTest:t.projectTest}})],1),t._v(" "),n("el-col",{attrs:{span:12}}),t._v(" "),n("el-col",{attrs:{span:12}}),t._v(" "),n("el-col",{attrs:{span:12}})],1)],1)])],1):t._e()},staticRenderFns:[]}},rOCs:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,".view-switch[data-v-f0ab166e]{position:absolute;top:30px;z-index:999;display:inline-block}","",{version:3,sources:["F:/selenium_work/tcis/web/src/pages/common/view_switch.vue"],names:[],mappings:"AACA,8BACE,kBAAmB,AACnB,SAAU,AACV,YAAa,AACb,oBAAsB,CACvB",file:"view_switch.vue",sourcesContent:["\n.view-switch[data-v-f0ab166e] {\n  position: absolute;\n  top: 30px;\n  z-index: 999;\n  display: inline-block;\n}\n"],sourceRoot:""}])},u9PN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"tcis_select",props:["selectList","placeholder"],data:function(){return{selectValue:null}},methods:{filterSelectChange:function(){this.$emit("filterSelectChange",this.selectValue)}}}},uFkv:function(t,e,n){var i=n("Vryk");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("fbc3b3bc",i,!0)},"zpS/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("lMz8"),s=n("BMys"),o=n.n(s),r=n("at4s"),a=n.n(r),c=n("mm5c"),l=n.n(c),u=n("+kDu"),p=n.n(u),f=n("coHg"),d=n.n(f),h=n("TO1l"),v=n.n(h),_=n("lC78");n("6iaY");e.default={name:"project_test_home",data:function(){var t=_.a.get("project_test_home_view");return""!=t&&null!=t||(t="kanban"),{formTopBtns:{create:!0},projectList:[],projectTestTypeList:[],view_list:["kanban","list"],activeView:t,loading:!1,pageSize:20,total:0,page:1,projectTests:[],type_id:null,project_id:null}},components:{ProjectTestList:a.a,ProjectTestKanban:l.a,ViewSwitch:p.a,Pagination:o.a,TcisSelect:d.a,FormTop:v.a},methods:{filterProjectChange:function(t){this.project_id=t,this.getAllProjectTest()},filterProjectTestTypeChange:function(t){this.type_id=t,this.getAllProjectTest()},getAllProjectTest:function(){var t=this;if("list"==this.activeView){this.loading=!0,this.projectTests=[];var e={page:this.page,page_size:this.pageSize};this.$route.query.type_id&&(this.type_id=this.$route.query.type_id),this.$route.query.project_id&&(this.project_id=this.$route.query.project_id),this.project_id&&(e.project_id=this.project_id),this.type_id&&(e.type_id=this.type_id),this.$ajax.get(i.a,{params:e}).then(function(e){t.loading=!1;var n=e.status,i=e.data;200==n&&(t.projectTests=i.results,t.total=i.count)})}},switchView:function(t){this.setLocalView(t),"list"==t?this.getAllProjectTest():"kanban"==t&&this.$router.push("/project_test/")},setLocalView:function(t){this.activeView=t,_.a.set("project_test_home_view",t)},changeProjectTestView:function(t,e){this.activeView=e,this.switchView(e),this.$router.push("/project_test/?project_id="+t)},pageInfoChange:function(t,e){this.page=e,this.pageSize=t,this.getAllProjectTest()},getAllProject:function(){var t=this;this.$ajax.get(i.b).then(function(e){var n=e.status,i=e.data;if(200==n){for(var s=i,o=[{label:"所有",value:null}],r=0;r<s.length;r++)o.push({label:s[r].name,value:s[r].id});t.projectList=o}})},getProjectTestType:function(){var t=this;this.$ajax.get(i.c).then(function(e){var n=e.status,i=e.data;if(200==n){for(var s=i.results,o=[{label:"所有",value:null}],r=0;r<s.length;r++)o.push({label:s[r].name,value:s[r].id});t.projectTestTypeList=o}})}},created:function(){this.$nextTick(function(){if(this.$route.query.view)for(var t=this.$route.query.view,e=0;e<this.view_list.length;e++)t===this.view_list[e]&&this.setLocalView(t);this.getAllProjectTest(),this.getAllProject(),this.getProjectTestType()})},watch:{$route:function(t,e){t!=e&&this.getAllProjectTest()}}}}});
//# sourceMappingURL=1.d565c869e5b208b982a6.js.map