webpackJsonp([4],{"+kDu":function(t,e,n){function i(t){n("ULjQ")}var o=n("VU/8")(n("hMro"),n("U8ZL"),i,"data-v-f0ab166e",null);t.exports=o.exports},"0WXJ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("lMz8"),o=n("Gjbd"),r=n.n(o);e.default={name:"project-bug-kanban",data:function(){return{loading:!1,pageSize:20,total:0,page:1,projects:[]}},components:{ProjectBugCard:r.a},methods:{getAllProject:function(){var t=this;this.loading=!0;var e={page:this.page,page_size:this.pageSize};this.$ajax.get(i.f,{params:e}).then(function(e){t.loading=!1;var n=e.status,i=e.data;200==n&&(t.projects=i.results)})},changeProjectBugView:function(t,e){this.$emit("changeProjectBugView",t,e)}},created:function(){this.$nextTick(function(){this.getAllProject()})}}},"2jEO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"",props:["projectBugs"],data:function(){return{}},methods:{goProjectBugDetail:function(t,e){this.$router.push("/project_bug/"+t.id)}}}},"3Z9p":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{style:t.chartStyle(),attrs:{id:"bug-distribution-"+t.project.id}})},staticRenderFns:[]}},"89Wa":function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,".project-bug-card[data-v-f096a7be]{padding-bottom:5px;padding-top:5px}","",{version:3,sources:["F:/selenium_work/tcis/web/src/pages/project_bug/project_bug_card.vue"],names:[],mappings:"AACA,mCACE,mBAAoB,AACpB,eAAiB,CAClB",file:"project_bug_card.vue",sourcesContent:["\n.project-bug-card[data-v-f096a7be] {\n  padding-bottom: 5px;\n  padding-top: 5px;\n}\n"],sourceRoot:""}])},"9m3A":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{pageInfoChange:function(t,e){this.$emit("pageInfoChange",t,e)},handleSizeChange:function(t){this.pageInfoChange(t,1)},handleCurrentChange:function(t){this.pageInfoChange(this.pageSize,t)}},props:["pageSize","currentPage","total","pageSizes"],data:function(){return{}}}},B3Cl:function(t,e,n){var i=n("Y3ZK");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("5ed7d397",i,!0)},BMys:function(t,e,n){function i(t){n("uFkv")}var o=n("VU/8")(n("9m3A"),n("LPte"),i,null,null);t.exports=o.exports},Drft:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("lMz8");e.default={name:"project-bug-card-echart",props:["project","checkChild"],data:function(){return{distributionxArixData:[],distributionSeris:[],distributionLegend:[]}},methods:{getProjectBugInfo:function(){var t=this;this.project_id;this.$ajax.get(i.g,{params:{project_id:this.project.id,check_child:this.checkChild}}).then(function(e){200==e.status&&(t.distributionSeris=e.data.series,t.distributionxArixData=e.data.x_axis,t.distributionLegend=e.data.legend,t.echartDistributionView())})},chartStyle:function(t){return{width:"800px",height:"500px"}},echartDistributionView:function(){var t=this.$echarts.init(document.getElementById("bug-distribution-"+this.project.id)),e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{show:!0,x:"left",y:"center",feature:{saveAsImage:{show:!0,name:"project_bug_bar"}}},legend:{data:this.distributionLegend},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.distributionxArixData}],yAxis:[{type:"value"}],series:this.distributionSeris};t.setOption(e)}},created:function(){this.getProjectBugInfo()},watch:{checkChild:"getProjectBugInfo"}}},Gfyy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("lMz8"),o=n("BMys"),r=n.n(o),a=n("aHuw"),s=n.n(a),c=n("vxCm"),u=n.n(c),l=n("+kDu"),p=n.n(l),d=n("TO1l"),f=n.n(d),g=n("lC78");e.default={name:"project_bug_home",data:function(){var t=g.a.get("project_bug_home_view");return""!=t&&null!=t||(t="kanban"),{formTopBtns:{create:!0},view_list:["kanban","list"],activeView:t,loading:!1,pageSize:20,total:0,page:1,projectBugs:[]}},components:{ProjectBugList:s.a,ProjectBugKanban:u.a,ViewSwitch:p.a,Pagination:r.a,FormTop:f.a},methods:{getAllProjectBug:function(){var t=this;if("list"==this.activeView){this.loading=!0,this.projectBugs=[];var e={page:this.page,page_size:this.pageSize};this.$route.query.project_id&&(e.project_id=this.$route.query.project_id),this.$route.query.check_child&&(e.check_child=this.$route.query.check_child),this.$ajax.get(i.e,{params:e}).then(function(e){t.loading=!1;var n=e.status,i=e.data;200==n&&(t.projectBugs=i.results,t.total=i.count)})}},switchView:function(t){this.setLocalView(t),"list"==t?this.getAllProjectBug(this.pageSize,this.page):"kanban"==t&&this.$router.push("/project_bug/")},setLocalView:function(t){this.activeView=t,g.a.set("project_bug_home_view",t)},changeProjectBugView:function(t,e){this.activeView=e,this.switchView(e),this.$router.push("/project_bug/?project_id="+t)},pageInfoChange:function(t,e){this.page=e,this.pageSize=t,this.getAllProjectBug()}},created:function(){this.$nextTick(function(){if(this.$route.query.view)for(var t=this.$route.query.view,e=0;e<this.view_list.length;e++)t===this.view_list[e]&&this.setLocalView(t);this.getAllProjectBug()})},watch:{$route:function(t,e){t!=e&&this.getAllProjectBug()}}}},Gjbd:function(t,e,n){function i(t){n("mH0v")}var o=n("VU/8")(n("zFDm"),n("u6LC"),i,"data-v-f096a7be",null);t.exports=o.exports},LJH3:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"project-bug-kanban"}},t._l(t.projects,function(e,i){return n("project-bug-card",{key:i,attrs:{project:e},on:{changeProjectBugView:t.changeProjectBugView}})}))},staticRenderFns:[]}},LPte:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]}},TO1l:function(t,e,n){function i(t){n("B3Cl")}var o=n("VU/8")(n("nWf1"),n("dPJm"),i,null,null);t.exports=o.exports},U8ZL:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-button-group",{staticClass:"view-switch"},[t._l(t.views,function(e,i){return[n("el-button",{key:i,attrs:{size:"mini",type:t.viewDict[e]},on:{click:function(n){t.switchView(e)}}},[t._v(t._s(t.viewLabel[e]))])]})],2)},staticRenderFns:[]}},ULjQ:function(t,e,n){var i=n("rOCs");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("1acd35a8",i,!0)},Vryk:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,".pagination{margin:5px;display:inline-block}","",{version:3,sources:["F:/selenium_work/tcis/web/src/pages/common/Pagination.vue"],names:[],mappings:"AACA,YACE,WAAY,AACZ,oBAAsB,CACvB",file:"Pagination.vue",sourcesContent:["\n.pagination {\n  margin: 5px;\n  display: inline-block;\n}\n"],sourceRoot:""}])},Y3ZK:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,".form-top{display:inline-block;margin:5px}","",{version:3,sources:["F:/selenium_work/tcis/web/src/pages/common/form_top.vue"],names:[],mappings:"AACA,UACE,qBAAsB,AACtB,UAAY,CACb",file:"form_top.vue",sourcesContent:["\n.form-top {\n  display: inline-block;\n  margin: 5px;\n}\n"],sourceRoot:""}])},aHuw:function(t,e,n){var i=n("VU/8")(n("2jEO"),n("mVC8"),null,null,null);t.exports=i.exports},dPJm:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-top"},[t.formTopBtns.create?n("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-document",size:"small"},on:{click:function(e){t.formTopAction("create")}}},[t._v("创建")]):t._e(),t._v(" "),t.formTopBtns.edit?n("el-button",{attrs:{plain:"",type:"warning",icon:"el-icon-edit",size:"small"},on:{click:function(e){t.formTopAction("edit")}}},[t._v("编辑")]):t._e(),t._v(" "),t.formTopBtns.save?n("el-button",{attrs:{plain:"",type:"success",icon:"el-icon-message",size:"small"},on:{click:function(e){t.formTopAction("save")}}},[t._v("保存")]):t._e(),t._v(" "),t.formTopBtns.cancel?n("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-close",size:"small"},on:{click:function(e){t.formTopAction("cancel")}}},[t._v("取消")]):t._e()],1)},staticRenderFns:[]}},hMro:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"view_switch",props:["views","activeView"],data:function(){var t={};for(var e in this.views){var n=this.views[e];n==this.activeView?t[n]="primary":t[n]=""}return{viewDict:t,viewLabel:{kanban:"看板",list:"列表",gantt:"甘特图"}}},methods:{switchView:function(t){for(var e in this.views){var n=this.views[e];this.viewDict[n]=n==t?"primary":""}this.$emit("switchView",t)}},watch:{activeView:function(t,e){for(var n in this.views){var i=this.views[n];this.viewDict[i]=i==t?"primary":""}}}}},lMz8:function(t,e,n){"use strict";n.d(e,"l",function(){return i}),n.d(e,"t",function(){return o}),n.d(e,"s",function(){return r}),n.d(e,"n",function(){return a}),n.d(e,"m",function(){return s}),n.d(e,"q",function(){return c}),n.d(e,"o",function(){return u}),n.d(e,"r",function(){return l}),n.d(e,"p",function(){return p}),n.d(e,"f",function(){return d}),n.d(e,"b",function(){return f}),n.d(e,"h",function(){return g}),n.d(e,"j",function(){return h}),n.d(e,"i",function(){return v}),n.d(e,"k",function(){return _}),n.d(e,"e",function(){return m}),n.d(e,"g",function(){return j}),n.d(e,"a",function(){return b}),n.d(e,"d",function(){return w}),n.d(e,"c",function(){return x});var i="/user/",o="/user/login/",r="/user/logout/",a="/user/reset_password/",s="/user/user_active/",c="/group/",u="/permission/",l="/permission/get_all_permission/",p="/permission/translate_all_permission/",d="/project/project/",f="/project/project/get_all_project/",g="/project/project_task/",h="/project/project_task/project_task_kanban/",v="/project/project_task/project_task_gantt/",_="/project/project_member/",m="/project_bug/project_bug/",j="/project_bug/project_bug/project_bug_kanban/",b="/project_test/project_test/",w="/project_test/project_test/project_test_kanban/",x="/project_test/project_test_type/"},mH0v:function(t,e,n){var i=n("89Wa");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("2e74ead8",i,!0)},mVC8:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.projectBugs},on:{"row-dblclick":t.goProjectBugDetail}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[n("el-form-item",{attrs:{label:"Bug描述"}},[n("span",[t._v(t._s(e.row.description))])])],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{label:"所属项目"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.project?[t._v("\n            "+t._s(e.row.project.name)+"\n            ")]:void 0}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"Bug名称"}}),t._v(" "),n("el-table-column",{attrs:{label:"测试员"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.tester?[t._v("\n            "+t._s(e.row.tester.name)+"\n            ")]:void 0}}])}),t._v(" "),n("el-table-column",{attrs:{label:"处理员"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.handler?[t._v("\n            "+t._s(e.row.handler.name)+"\n            ")]:void 0}}])}),t._v(" "),n("el-table-column",{attrs:{label:"验证员"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.checker?[t._v("\n            "+t._s(e.row.checker.name)+"\n            ")]:void 0}}])}),t._v(" "),n("el-table-column",{attrs:{label:"处理人"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.handler?[t._v("\n            "+t._s(e.row.handler.name)+"\n            ")]:void 0}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"level",label:"级别"}}),t._v(" "),n("el-table-column",{attrs:{prop:"open_times",label:"打开次数"}}),t._v(" "),n("el-table-column",{attrs:{prop:"state",label:"状态"}})],1)],1)},staticRenderFns:[]}},nWf1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"form-rop",props:["formTopBtns"],data:function(){return{}},methods:{formTopAction:function(t){this.$emit("formTopAction",t)}}}},rOCs:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,".view-switch[data-v-f0ab166e]{position:absolute;top:30px;z-index:999;display:inline-block}","",{version:3,sources:["F:/selenium_work/tcis/web/src/pages/common/view_switch.vue"],names:[],mappings:"AACA,8BACE,kBAAmB,AACnB,SAAU,AACV,YAAa,AACb,oBAAsB,CACvB",file:"view_switch.vue",sourcesContent:["\n.view-switch[data-v-f0ab166e] {\n  position: absolute;\n  top: 30px;\n  z-index: 999;\n  display: inline-block;\n}\n"],sourceRoot:""}])},tZ6n:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"project-bug",loading:t.loading}},[n("view-switch",{attrs:{views:t.view_list,activeView:t.activeView},on:{switchView:t.switchView}}),t._v(" "),n("form-top",{attrs:{formTopBtns:t.formTopBtns},on:{formTopAction:t.formTopAction}}),t._v(" "),n("pagination",{attrs:{pageSizes:[20,40,80,160,320],pageSize:t.pageSize,currentPage:t.page,total:t.total},on:{pageInfoChange:t.pageInfoChange}}),t._v(" "),n("el-row",{staticClass:"main-content",attrs:{gutter:20}},["list"==t.activeView?n("project-bug-list",{attrs:{projectBugs:t.projectBugs}}):t._e(),t._v(" "),"kanban"==t.activeView?n("project-bug-kanban",{on:{changeProjectBugView:t.changeProjectBugView}}):t._e()],1)],1)},staticRenderFns:[]}},u6LC:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("el-col",{staticClass:"project-bug-card",attrs:{span:12,project:t.project}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",{staticStyle:{color:"rgb(102, 177, 255)","font-size":"150%"},on:{click:t.goProject}},[t._v(t._s(t.project.name))]),t._v(" "),n("i",{staticClass:"el-icon-info",staticStyle:{color:"rgb(102, 177, 255)","font-size":"150%"},on:{click:t.goProject}}),t._v(" "),n("i",{staticClass:"el-icon-circle-close",staticStyle:{float:"right","margin-left":"10px",color:"red","font-size":"150%"},on:{click:t.deleteDom}}),t._v(" "),n("el-button",{staticStyle:{float:"right",padding:"3px 0","margin-left":"10px"},attrs:{type:"success"},on:{click:function(e){t.changeProjectBugView(t.project.id,"list")}}},[t._v("Bug列表")])],1),t._v(" "),n("div",{staticClass:"project-bug-echart"},[n("el-row",[n("el-col",{attrs:{span:24}},[n("project-bug-card-echart",{attrs:{project:t.project}})],1),t._v(" "),n("el-col",{attrs:{span:12}}),t._v(" "),n("el-col",{attrs:{span:12}}),t._v(" "),n("el-col",{attrs:{span:12}})],1)],1)])],1):t._e()},staticRenderFns:[]}},uFkv:function(t,e,n){var i=n("Vryk");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("fbc3b3bc",i,!0)},vROE:function(t,e,n){var i=n("VU/8")(n("Gfyy"),n("tZ6n"),null,null,null);t.exports=i.exports},vTFq:function(t,e,n){var i=n("VU/8")(n("Drft"),n("3Z9p"),null,null,null);t.exports=i.exports},vxCm:function(t,e,n){var i=n("VU/8")(n("0WXJ"),n("LJH3"),null,null,null);t.exports=i.exports},zFDm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("vTFq"),o=n.n(i);e.default={name:"project-bug-card",props:["project"],data:function(){return{show:!0}},components:{ProjectBugCardEchart:o.a},methods:{changeProjectBugView:function(t,e){this.$emit("changeProjectBugView",t,e)},deleteDom:function(){this.show=!1},goProject:function(){this.$router.push("/project/"+this.project.id)}}}}});
//# sourceMappingURL=4.4f840a1fa878c19d2cb1.js.map