webpackJsonp([5],{"+kDu":function(e,t,r){function n(e){r("ULjQ")}var s=r("VU/8")(r("hMro"),r("U8ZL"),n,"data-v-f0ab166e",null);e.exports=s.exports},"/3IH":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.groups},on:{"row-dblclick":e.goGroupDetail}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("h3",[e._v("权限信息:")]),e._v(" "),e._l(t.row.permissions,function(t,n){return[r("span",{key:n,staticStyle:{margin:"5px",border:"1px solid #333",padding:"2px"}},[e._v(e._s(t.name))])]})]}}])}),e._v(" "),r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:"组名"}})],1)],1)},staticRenderFns:[]}},"0USu":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"user-info"}},[r("el-row",{attrs:{gutter:20}},[r("el-form",{ref:"userForm",staticClass:"form-read-only",attrs:{inline:!0,model:e.userForm}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"用户名"}},[r("span",[e._v(e._s(e.userForm.username))])]),e._v(" "),r("el-form-item",{attrs:{label:"中文"}},[r("span",[e._v(e._s(e.userForm.username_zh))])]),e._v(" "),r("el-form-item",{attrs:{label:"邮箱"}},[r("span",[e._v(e._s(e.userForm.email))])]),e._v(" "),r("el-form-item",{attrs:{label:"电话"}},[r("span",[e._v(e._s(e.userForm.mobile))])]),e._v(" "),r("el-form-item",{attrs:{label:"超级用户"}},[e.userForm.is_superuser?r("span",[e._v("是")]):r("span",[e._v("否")])]),e._v(" "),r("el-form-item",{attrs:{label:"是否有效"}},[e.userForm.is_active?r("span",[e._v("是")]):r("span",[e._v("否")])]),e._v(" "),r("el-form-item",{attrs:{label:"所属部门"}},[e.userForm.department?r("span",[e._v(e._s(e.userForm.department.name))]):r("span")]),e._v(" "),r("el-form-item",{attrs:{label:"职位"}},[e.userForm.position?r("span",[e._v(e._s(e.userForm.position.name))]):r("span")]),e._v(" "),r("el-form-item",{attrs:{label:"最近登录"}},[r("span",[e._v(e._s(e._f("stringTimeFormat")(e.userForm.last_login)))])])],1)],1)],1),e._v(" "),r("el-tabs",{staticClass:"user-tabs",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"用户组",name:"group"}},[r("group-list",{attrs:{groups:e.groups}})],1),e._v(" "),r("el-tab-pane",{attrs:{label:"权限信息",name:"project_bug"}},[r("permission-list",{attrs:{permissions:e.permissions}})],1)],1)],1)},staticRenderFns:[]}},B3Cl:function(e,t,r){var n=r("Y3ZK");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r("rjj0")("5ed7d397",n,!0)},DmTT:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{id:"user-form"}})},staticRenderFns:[]}},GUiW:function(e,t,r){var n=r("VU/8")(r("z9yL"),r("DmTT"),null,null,null);e.exports=n.exports},IeKc:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.permissions}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:"权限名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"codename",label:"权限编码"}}),e._v(" "),e.userinfo.is_superuser?r("el-table-column",{attrs:{label:"所属App"},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.content_type?[e._v("\n            "+e._s(t.row.content_type.app_label)+"\n            ")]:void 0}}])}):e._e()],1)],1)},staticRenderFns:[]}},"P/D0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"",props:["groups"],data:function(){return{}},methods:{goGroupDetail:function(e,t){this.$router.push("/group/"+e.id)}}}},TO1l:function(e,t,r){function n(e){r("B3Cl")}var s=r("VU/8")(r("nWf1"),r("dPJm"),n,null,null);e.exports=s.exports},U8ZL:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-button-group",{staticClass:"view-switch"},[e._l(e.views,function(t,n){return[r("el-button",{key:n,attrs:{size:"mini",type:e.viewDict[t]},on:{click:function(r){e.switchView(t)}}},[e._v(e._s(e.viewLabel[t]))])]})],2)},staticRenderFns:[]}},ULjQ:function(e,t,r){var n=r("rOCs");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r("rjj0")("1acd35a8",n,!0)},Y3ZK:function(e,t,r){t=e.exports=r("FZ+f")(!0),t.push([e.i,".form-top{display:inline-block;margin:5px}","",{version:3,sources:["F:/selenium_work/tcis/web/src/pages/common/form_top.vue"],names:[],mappings:"AACA,UACE,qBAAsB,AACtB,UAAY,CACb",file:"form_top.vue",sourcesContent:["\n.form-top {\n  display: inline-block;\n  margin: 5px;\n}\n"],sourceRoot:""}])},aqWz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),s=r.n(n),o=r("NYxO");t.default={name:"",props:["permissions"],data:function(){return{}},computed:s()({},r.i(o.b)({userinfo:function(e){return e.userinfo}}))}},cFmv:function(e,t,r){var n=r("VU/8")(r("tSgJ"),r("jQxs"),null,null,null);e.exports=n.exports},dPJm:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-top"},[e.formTopBtns.create?r("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-document",size:"small"},on:{click:function(t){e.formTopAction("create")}}},[e._v("创建")]):e._e(),e._v(" "),e.formTopBtns.edit?r("el-button",{attrs:{plain:"",type:"warning",icon:"el-icon-edit",size:"small"},on:{click:function(t){e.formTopAction("edit")}}},[e._v("编辑")]):e._e(),e._v(" "),e.formTopBtns.save?r("el-button",{attrs:{plain:"",type:"success",icon:"el-icon-message",size:"small"},on:{click:function(t){e.formTopAction("save")}}},[e._v("保存")]):e._e(),e._v(" "),e.formTopBtns.cancel?r("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-close",size:"small"},on:{click:function(t){e.formTopAction("cancel")}}},[e._v("取消")]):e._e()],1)},staticRenderFns:[]}},gZWS:function(e,t,r){var n=r("VU/8")(r("aqWz"),r("IeKc"),null,null,null);e.exports=n.exports},guWm:function(e,t,r){var n=r("VU/8")(r("P/D0"),r("/3IH"),null,null,null);e.exports=n.exports},hMro:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"view_switch",props:["views","activeView"],data:function(){var e={};for(var t in this.views){var r=this.views[t];r==this.activeView?e[r]="primary":e[r]=""}return{viewDict:e,viewLabel:{kanban:"看板",list:"列表",gantt:"甘特图"}}},methods:{switchView:function(e){for(var t in this.views){var r=this.views[t];this.viewDict[r]=r==e?"primary":""}this.$emit("switchView",e)}},watch:{activeView:function(e,t){for(var r in this.views){var n=this.views[r];this.viewDict[n]=n==e?"primary":""}}}}},jQxs:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-detail"},[r("view-switch",{attrs:{views:["list"]},on:{switchView:e.switchView}}),e._v(" "),r("form-top",{attrs:{formTopBtns:e.formTopBtns},on:{formTopAction:e.formTopAction}}),e._v(" "),r("div",{staticClass:"main-content"},["form"==e.activeView?r("user-from",{attrs:{user:e.newUserForm}}):e._e(),e._v(" "),"info"==e.activeView?r("user-info",{attrs:{checkChild:e.checkChild,userForm:e.userForm,groups:e.groups,permissions:e.permissions},on:{changeChildInfo:e.changeChildInfo}}):e._e()],1)],1)},staticRenderFns:[]}},lMz8:function(e,t,r){"use strict";r.d(t,"l",function(){return n}),r.d(t,"t",function(){return s}),r.d(t,"s",function(){return o}),r.d(t,"n",function(){return i}),r.d(t,"m",function(){return a}),r.d(t,"q",function(){return u}),r.d(t,"o",function(){return c}),r.d(t,"r",function(){return l}),r.d(t,"p",function(){return p}),r.d(t,"f",function(){return m}),r.d(t,"b",function(){return f}),r.d(t,"h",function(){return d}),r.d(t,"j",function(){return _}),r.d(t,"i",function(){return v}),r.d(t,"k",function(){return h}),r.d(t,"e",function(){return b}),r.d(t,"g",function(){return w}),r.d(t,"a",function(){return g}),r.d(t,"d",function(){return j}),r.d(t,"c",function(){return F});var n="/user/",s="/user/login/",o="/user/logout/",i="/user/reset_password/",a="/user/user_active/",u="/group/",c="/permission/",l="/permission/get_all_permission/",p="/permission/translate_all_permission/",m="/project/project/",f="/project/project/get_all_project/",d="/project/project_task/",_="/project/project_task/project_task_kanban/",v="/project/project_task/project_task_gantt/",h="/project/project_member/",b="/project_bug/project_bug/",w="/project_bug/project_bug/project_bug_kanban/",g="/project_test/project_test/",j="/project_test/project_test/project_test_kanban/",F="/project_test/project_test_type/"},nWf1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"form-rop",props:["formTopBtns"],data:function(){return{}},methods:{formTopAction:function(e){this.$emit("formTopAction",e)}}}},rOCs:function(e,t,r){t=e.exports=r("FZ+f")(!0),t.push([e.i,".view-switch[data-v-f0ab166e]{position:absolute;top:30px;z-index:999;display:inline-block}","",{version:3,sources:["F:/selenium_work/tcis/web/src/pages/common/view_switch.vue"],names:[],mappings:"AACA,8BACE,kBAAmB,AACnB,SAAU,AACV,YAAa,AACb,oBAAsB,CACvB",file:"view_switch.vue",sourcesContent:["\n.view-switch[data-v-f0ab166e] {\n  position: absolute;\n  top: 30px;\n  z-index: 999;\n  display: inline-block;\n}\n"],sourceRoot:""}])},tSgJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("+kDu"),s=r.n(n),o=r("lMz8"),i=r("lC78"),a=r("TO1l"),u=r.n(a),c=r("GUiW"),l=r.n(c),p=r("ytDa"),m=r.n(p);t.default={name:"user_detail",data:function(){var e=i.a.get("user_detail_view");return""!=e&&null!=e||(e="info"),{formTopBtns:{create:!0},activeView:e,loadding:!1,userForm:{},groups:[],permissions:[],newUserForm:{}}},components:{UserFrom:l.a,UserInfo:m.a,FormTop:u.a,ViewSwitch:s.a},methods:{getUserInfo:function(){var e=this;this.loadding=!0;var t=this.$route.params.id;"new"!=t?(this.userForm.id=t,this.$ajax.get(o.l+this.userForm.id).then(function(t){e.loadging=!1;var r=t.status,n=t.data;if(200==r){e.userForm=n,e.groups=e.userForm.groups;for(var s=e.groups.length,o={},i=0;i<s;i++)for(var a=e.groups[i],u=a.permissions.length,c=0;c<u;c++){var l=a.permissions[c];o[l.id]=l}var p=[];for(var m in o)p.push(o[m]);e.permissions=p}})):this.userForm=this.newUserFrom},switchView:function(e){i.a.set("user_home_view",e),this.$router.push("/user/")}},created:function(){this.getUserInfo()},watch:{$route:"getUserInfo"}}},ytDa:function(e,t,r){var n=r("VU/8")(r("zM/G"),r("0USu"),null,null,null);e.exports=n.exports},z9yL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"user-form",data:function(){return{}}}},"zM/G":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(r("lC78"),r("lMz8"),r("guWm")),s=r.n(n),o=r("gZWS"),i=r.n(o);t.default={name:"user-info",props:["userForm","permissions","groups"],data:function(){return{formTopBtns:{edit:!0,create:this.$store.state.userinfo.is_superuser},userForm:{},activeName:"group",groups:[],permissions:[]}},components:{GroupList:s.a,PermissionList:i.a},methods:{handleClick:function(e){},formTopAction:function(e){"edit"==e?this.$router.push("/user/"+this.userForm.id):"create"==e&&this.$router.push("/user/new")}},created:function(){this.getUserInfo()},watch:{$route:"getUserInfo"}}}});
//# sourceMappingURL=5.5a3878c2fb9360b83093.js.map